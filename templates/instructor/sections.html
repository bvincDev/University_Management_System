<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>My Sections</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
  <body>
    <header class="site-header" role="banner">
      <div class="stripe stripe-top"></div>
      <div class="stripe stripe-mid"></div>
      <div class="stripe stripe-large"></div>
      <h1 class="site-title">University Manager</h1>
      <div class="tab-row">
        <div class="portal-pill">Instructor Portal</div>
      </div>
    </header>

    <main class="page-body">
      <section class="student-dashboard">
        <div class="student-layout">
          <aside class="profile-card">
            <h3>Instructor</h3>
            <table class="profile-table">
              <tbody>
                <tr><th>Name</th><td>{{ user_name }}</td></tr>
                <tr><th>Email</th><td class="break">{{ user_email }}</td></tr>
              </tbody>
            </table>
            <div class="profile-actions">
              <a href="/instructor/edit" class="btn">Edit Profile</a>
            </div>
          </aside>

          <div class="card" style="width:100%;">
            <h3>Sections</h3>
            <form method="get" class="small-form" style="margin-bottom:12px;display:flex;gap:8px;align-items:center;">
              <label style="display:flex;gap:6px;align-items:center;">
                Semester <input name="semester" value="{{ semester or '' }}" placeholder="Fall/Spring">
              </label>
              <label style="display:flex;gap:6px;align-items:center;">
                Year <input name="year" value="{{ year or '' }}" placeholder="2025">
              </label>
              <button class="btn" type="submit">Filter</button>
              <a href="{{ url_for('dashboard') }}" class="btn" style="margin-left:auto">Back</a>
            </form>

            {% if sections %}
            <table class="grade-table">
              <thead>
                <tr><th>Course</th><th>Term</th><th>Time</th><th>Room</th><th>Cap</th><th>Enrolled</th><th></th></tr>
              </thead>
              <tbody>
                {% for s in sections %}
                <tr>
                  <td data-label="Course">{{ s.course_number }} — {{ s.course_name }}</td>
                  <td data-label="Term">{{ s.semester }} {{ s.year }}</td>
                  <td data-label="Time">{{ s.day_of_week }} {{ s.start_time }}–{{ s.end_time }}</td>
                  <td data-label="Room">{{ s.building_name }} {{ s.room_number }}</td>
                  <td data-label="Cap">{{ s.capacity }}</td>
                  <td data-label="Enrolled">{{ s.enrolled_count }}</td>
                  <td><a class="btn" href="{{ url_for('instructor_section_roster', section_id=s.sectionID) }}">Roster</a></td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            {% else %}
              <p>No sections found.</p>
            {% endif %}
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
